{"version":3,"file":"index.js","sources":["../src/componentInLibraries.js","../src/fieldArray.js","../src/field.js","../src/content.js","../src/index.js"],"sourcesContent":["export default (props) => {\n  const { componentsLibraries = [() => null], item } = props\n\n  for (var i = 0; i < componentsLibraries.length; i++) {\n    const component = componentsLibraries[i](item)\n    if (component) {\n      return component\n    }\n  }\n\n  return null\n}","import React from 'react'\nimport { Field, ErrorMessage as BaseErrorMesssage, FieldArray, getIn } from 'formik'\nimport componentInLibraries from './componentInLibraries'\n\nconst ErrorMessage = ({ name }) => (\n  <Field\n    name={name}\n    render={({ form }) => {\n      const error = getIn(form.errors, name)\n      const touch = getIn(form.touched, name)\n      return touch && error ? error : null\n    }}\n  />\n)\n\nexport default (props) => {\n  const {\n    values,\n    item: { type, id, label, forceLabel = false, className = \"\", props: itemProps },\n    onValuesChanged,\n    setFieldValue,\n    setFieldTouched } = props\n\n  const items = values[id] ? values[id] : []\n\n  const { entryFormProvider } = itemProps\n  const Component = componentInLibraries({ componentsLibraries: props.componentsLibraries, item: entryFormProvider })\n  if (!Component) {\n    return null\n  }\n\n  const customOnValueChanged = (value) => {\n    // const { item: { id }, setFieldValue, setFieldTouched } = props\n    setFieldValue(id, value)\n    setFieldTouched(id, true, false)\n    const _values = { ...props.values }\n    _values[id] = value\n    onValuesChanged && onValuesChanged(_values)\n    //setItems(value)\n  }\n\n\n  const fieldArrayComponent = (arrayHelpers) => {\n\n    const { move, swap, push, insert, unshift, pop, remove, form } = arrayHelpers\n\n    const onAdd = () => {\n      push(itemProps.placeholder())\n    }\n\n    return <div>\n      {(items && items.length > 0) && items.map((entry, index) => {\n        const itemId = `${id}.${index}`\n        return <div key={index} className={`form-control mb-4 ${className}`}>\n          {/* {\n          (label && forceLabel) &&\n          <label className=\"label\">\n            <span>{label}</span>\n          </label>\n        } */}\n\n          <Field type={entryFormProvider.type} name={itemId} >\n            {({ field, form }) => {\n              const onRemoveRequired = () => {\n                remove(index)\n                const _i = [...items]\n                _i.splice(index, 1)\n                customOnValueChanged(_i)\n              }\n\n              const onMoveDownRequired = () => {\n                if (items.length <= index) {\n                  return\n                }\n                swap(index, index + 1)\n\n                const _i = [...items]\n                const object = _i[index]\n                const other = _i[index + 1]\n                _i[index] = other\n                _i[index + 1] = object\n                customOnValueChanged(_i)\n              }\n\n              const onMoveUpRequired = () => {\n                if (index === 0) {\n                  return\n                }\n                swap(index, index - 1)\n\n                const _i = [...items]\n                const object = _i[index]\n                const other = _i[index - 1]\n                _i[index] = other\n                _i[index - 1] = object\n                customOnValueChanged(_i)\n              }\n\n              const onEntryValuesChanged = (value) => {\n                const _i = [...items]\n                _i[index] = value\n                customOnValueChanged(_i)\n              }\n\n              return <Component\n                value={entry}\n                arrayHelpers={arrayHelpers}\n                onMoveDownRequired={onMoveDownRequired}\n                onMoveUpRequired={onMoveUpRequired}\n                onRemoveRequired={onRemoveRequired}\n                item={entryFormProvider}\n                index={index}\n                canMoveUp={itemProps.canMove && (index > 0)}\n                canMoveDown={itemProps.canMove && (index < (items.length - 1))}\n                canRemove={itemProps.canRemove}\n                showControls={itemProps.showControls}\n                customOnValueChanged={onEntryValuesChanged} />\n            }}\n          </Field>\n          <BaseErrorMesssage\n            name={itemId}\n            component=\"div\"\n            className=\"text-sm text-red-600 pt-2\" />\n        </div>\n      })}\n      {(itemProps.canAddItems && items.length < itemProps.maxItems) &&\n        <div className={`flex justify-center my-10`}>\n          {itemProps.addComponent\n            ? itemProps.addComponent({ onClick: onAdd })\n            : <button\n              type=\"button\"\n              onClick={onAdd}>\n              +\n            </button>\n          }</div>}\n    </div>\n  }\n\n  return <div className={`form-control mb-4 ${className}`}>\n    {\n      (label && forceLabel) &&\n      <label className=\"label\">\n        <span>{label}</span>\n      </label>\n    }\n    <FieldArray\n      type={type}\n      name={id}\n      component={fieldArrayComponent} />\n    <ErrorMessage\n      name={id}\n      component=\"div\"\n      className=\"text-sm text-red-600 pt-2\" />\n  </div>\n}\n","import React from 'react'\nimport { Field, ErrorMessage } from 'formik'\nimport componentInLibraries from './componentInLibraries'\nimport { nanoid } from 'nanoid'\n\nexport default (props) => {\n  const { item: { type, id, label, forceLabel = false, className = \"\" }, onValuesChanged } = props\n  const Component = componentInLibraries({ componentsLibraries: props.componentsLibraries, item: props.item })\n  if (!Component) {\n    return null\n  }\n\n  const _id = id ? id : nanoid()\n\n  return <div className={`form-control mb-4 ${className}`}>\n    {\n      (label && forceLabel) &&\n      <label className=\"label\">\n        <span>{label}</span>\n      </label>\n    }\n\n    <Field type={type} name={_id} >\n      {({ field, form }) => {\n\n        const customOnValueChanged = (value) => {\n          if (!props.item.id) {\n            return\n          }\n          const { item: { id }, setFieldValue, setFieldTouched } = props\n          setFieldValue(id, value)\n          setFieldTouched(id, true, false)\n          const _values = { ...props.values }\n          _values[id] = value\n          onValuesChanged && onValuesChanged(_values)\n        }\n\n        return <Component\n          {...props}\n          field={field}\n          form={form}\n          customOnValueChanged={customOnValueChanged} />\n      }}\n    </Field>\n    <ErrorMessage\n      name={_id}\n      component=\"div\"\n      className=\"text-sm text-red-600 pt-2\" />\n  </div>\n}","import React from 'react'\nimport { Form } from 'formik'\nimport FieldArray from './fieldArray'\nimport Field from './field'\n\nexport const generate = (props) => {\n  const { formItemsProvider } = props\n  const items = Array.isArray(formItemsProvider) ? formItemsProvider : formItemsProvider()\n  return <Form className=\"grid grid-flow-row\">\n    {\n      items.map(item => {\n        const { isMulti } = item\n        if (isMulti) {\n          return _generateItemsView({ ...props, item })\n        }\n\n        return _generateItemView({ ...props, item, })\n      })\n    }\n  </Form>\n}\n\nconst _generateItemsView = (props) => {\n  const { item: { className, items } } = props\n\n  return <div className={className}>\n    {items.map(_item => _generateItemView({ ...props, item: _item, }))}\n  </div>\n}\n\nconst _generateItemView = (props) => {\n  const { item } = props\n  if (item.hide) {\n    return null\n  }\n\n  if (item.isList) {\n    return <FieldArray {...props} />\n  }\n\n  return <Field {...props} />\n}\n","import React from 'react'\nimport { Formik } from 'formik'\nimport { generate } from './content'\n//import { useForceUpdate } from \"react-custom-hook-use-force-update\"\n\nexport default (props) => {\n  const {\n    onSubmit,\n    error,\n    onFormPropsChanged\n  } = props\n\n  const initialValues = (typeof props.initialValues !== 'function') ? props.initialValues : (props.initialValues && props.initialValues())\n  const validationSchema = (typeof props.validationSchema !== 'function') ? props.validationSchema : (props.validationSchema && props.validationSchema())\n  //const forceUpdate = useForceUpdate()\n\n  const onValuesChanged = (values) => {\n    props.onValuesChanged && props.onValuesChanged(values)\n    console.log('onValuesChanged hook')\n    //forceUpdate()\n  }\n\n  return (\n    <div>\n\n      <Formik\n        initialValues={initialValues}\n        validationSchema={validationSchema}\n        onSubmit={onSubmit}>\n        {formProps => {\n          onFormPropsChanged && onFormPropsChanged(formProps)\n          return generate({ ...formProps, ...props, initialValues, validationSchema, onValuesChanged })\n        }\n        }\n      </Formik>\n\n      {error &&\n        <div className=\"alert alert-error mb-4\">\n          <div className=\"flex-1\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" className=\"w-6 h-6 mx-2 stroke-current\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636\"></path>\n            </svg>\n            <label>{error.message}</label>\n          </div>\n        </div>}\n    </div>\n  )\n}\n"],"names":["props","componentsLibraries","item","i","length","component","ErrorMessage","name","Field","form","error","getIn","errors","touch","touched","values","type","id","label","forceLabel","className","itemProps","onValuesChanged","setFieldValue","setFieldTouched","items","entryFormProvider","Component","componentInLibraries","customOnValueChanged","value","_values","fieldArrayComponent","arrayHelpers","swap","push","insert","remove","onAdd","placeholder","map","entry","index","itemId","onRemoveRequired","_i","splice","onMoveDownRequired","object","other","onMoveUpRequired","onEntryValuesChanged","canMove","canRemove","showControls","BaseErrorMesssage","canAddItems","maxItems","addComponent","onClick","FieldArray","_id","nanoid","field","generate","formItemsProvider","Array","isArray","Form","isMulti","_generateItemsView","_generateItemView","_item","hide","isList","onSubmit","onFormPropsChanged","initialValues","validationSchema","console","log","Formik","formProps","message"],"mappings":"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"}